@model EventViewModel

@{ ViewData["Title"] = string.Format(PageTitlesResource.StringFormat, PageTitlesResource.EventIndex, PageTitlesResource.SiteName); }

@if (ViewBag.UserId == Model.UserId)
{
    <div class="create-form">
        <form method="post">
            <button asp-controller="Event" asp-action="AddParticipant" asp-route-eventId="@Model.Id">
                Participate
            </button>
            <button asp-controller="Event" asp-action="DeleteParticipant" asp-route-eventId="@Model.Id">
                Delete participant
            </button>
            <div class="participants-list">
                @foreach(var participant in ViewBag.ParticipantsNames)
                {
                    @participant;
                }
            </div>
        </form>
        <div class="create-form__content">
            <div asp-validation-summary="ModelOnly"></div>
            <div>
                <label asp-for="Name"></label>
                <h1 asp-for="Name">@Model.Name</h1>
            </div>
            <div>
                <label asp-for="Title"></label>
                <h2 asp-for="Title">@Model.Title</h2>
            </div>
            <div>
                <label asp-for="Info"></label>
                <p asp-for="Info">@Model.Info</p>
            </div>
            <div>
                <label asp-for="Started" for="started">Started</label>
                <time asp-for="Started">: @Model.Started.ToShortDateString()</time>
            </div>
            <div>
                <label asp-for="Format"></label>
                <span asp-for="Format">: @Model.Format</span>
            </div>
            <div>
                <label asp-for="PNumber"></label>
                <span asp-for="PNumber">: @Model.PNumber</span>
            </div>
            <div>
                <label asp-for="PFreeNumber"></label>
                <span asp-for="PNumber">: @Model.PFreeNumber</span>
            </div>
            <div>
                <label asp-for="AuthorName"></label>
                <span asp-for="AuthorName">: @Model.AuthorName</span>
            </div>
        </div>
        <form class="create-form__event-buttons">
            <button formmethod="post" class="event-buttons__edit"
                    asp-controller="Event"
                    asp-action="EditEventIndex"
                    asp-route-id="@Model.Id"
                    asp-route-authorName="@Model.AuthorName">

                Edit Event
            </button>
            <button formmethod="post" class="event-buttons__delete"
                    asp-controller="Event"
                    asp-action="DeleteEvent"
                    asp-route-id=@Model.Id
                    asp-route-authorName=@Model.AuthorName>
                Delete Event
            </button>
        </form>
    </div> }
else
{
<div class="create-form">
    <form method="post">
        <button asp-controller="Event" asp-action="AddParticipant" asp-route-eventId="@Model.Id">
            Participate
        </button>
        <button asp-controller="Event" asp-action="DeleteParticipant" asp-route-eventId="@Model.Id">
            Delete participant
        </button>
        <div class="participants-list">
            @foreach (var participant in ViewBag.ParticipantsNames)
            {
                @participant;
            }
        </div>
    </form>
    <div class="create-form__content">
        <div asp-validation-summary="ModelOnly"></div>
        <div>
            <label asp-for="Name"></label>
            <h1 asp-for="Name">@Model.Name</h1>
        </div>
        <div>
            <label asp-for="Title"></label>
            <h2 asp-for="Title">@Model.Title</h2>
        </div>
        <div>
            <label asp-for="Info"></label>
            <p asp-for="Info">@Model.Info</p>
        </div>
        <div>
            <label asp-for="Started" for="started">Started</label>
            <time asp-for="Started">: @Model.Started.ToShortDateString()</time>
        </div>
        <div>
            <label asp-for="Format"></label>
            <span asp-for="Format">: @Model.Format</span>
        </div>
        <div>
            <label asp-for="PNumber"></label>
            <span asp-for="PNumber">: @Model.PNumber</span>
        </div>
        <div>
            <label asp-for="PFreeNumber"></label>
            <span asp-for="PNumber">: @Model.PFreeNumber</span>
        </div>
        <div>
            <label asp-for="AuthorName"></label>
            <span asp-for="PNumber">: @Model.AuthorName</span>
        </div>
    </div>
</div>}

@if (ViewBag.UserId == Model.UserId)
{
@section css {
    <link href="~/css/eventOwn.css" rel="stylesheet" asp-append-version="true" />
} }
else
{
@section css {
    <link href="~/css/eventOwn.css" rel="stylesheet" asp-append-version="true" />
}            }